{"version":3,"sources":["components/Nav.jsx","components/Login.jsx","components/Logout.jsx","components/Dashboard.jsx","components/Register.jsx","components/ProtectedRoute.jsx","App.js","index.js"],"names":["Nav","className","to","Login","setIsAuth","useState","mail","setMail","password","setPassword","setError","router","useHistory","login","a","fetch","method","credentials","headers","body","JSON","stringify","status","setTimeout","push","value","onChange","e","target","type","placeholder","onClick","Logout","role","withRouter","emails","setEmails","text","setText","subject","setSubject","setTo","loggedIn","getEmails","response","json","data","handleSendEmail","console","log","useEffect","map","item","id","from","htmlFor","rows","disabled","length","Register","error","register","ProtectedRoute","isAuth","Component","component","rest","render","props","pathname","state","location","App","path","Dashboard","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.59a3328b.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Nav = () => {\r\n    return (\r\n        <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div className=\"navbar-collapse\">\r\n            <div className=\"navbar-nav\">\r\n                <ul className=\"nav navbar-nav\">\r\n                    <li>\r\n                        <Link className=\"nav-item nav-link\" to=\"/register\">SignUp</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link className=\"nav-item nav-link\" to=\"/login\">Login</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link className=\"nav-item nav-link\" to=\"/logout\">Log OUT</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link className=\"nav-item nav-link\" to=\"/dashboard\">Dashboard</Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n    )\r\n}\r\n\r\nexport default Nav;","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst url = `http://localhost:6789/login`;\r\n\r\nconst Login = ({setIsAuth}) => {\r\n    const [mail, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n    const router = useHistory();\r\n    const login = async () => {\r\n        const response = await fetch(url, {\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            headers: {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n            body: JSON.stringify({mail, password})\r\n        })\r\n\r\n        if(response.status !== 200) {\r\n            setError(\"Wrong credentials\");\r\n            setTimeout(()=>{\r\n                setError('')\r\n            },2000);\r\n            return\r\n        }\r\n        setIsAuth(true);\r\n        router.push('./dashboard')\r\n    }\r\n    \r\n    return (\r\n        <div className=\"container mt-5 w-25\">\r\n            <div>\r\n                <h1 className=\"h1\">Log In</h1>\r\n                <div className=\"form-group\">\r\n                    <label>Email address</label>\r\n                    <input  value={mail}\r\n                            onChange={(e) => {setMail(e.target.value)}}\r\n                            type=\"email\" className=\"form-control\"\r\n                            placeholder=\"Enter email\"/>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label>Password</label>\r\n                    <input  value={password}\r\n                            onChange={(e) => {setPassword(e.target.value)}}\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            placeholder=\"Password\"/>\r\n                </div>\r\n                <button onClick={login} className=\"btn btn-primary\">Submit</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;","import React from \"react\";\r\n\r\nconst Logout = ({setIsAuth}) => {\r\n    fetch('http://localhost:6789/logout' , {credentials: 'include'});\r\n    setIsAuth(false);\r\n    return(\r\n        <div className=\"alert alert-danger\" role=\"alert\">\r\n            You have been logged out\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Logout;","import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";  \r\n// import Cookies from 'react-cookie';\r\nconst url = `http://localhost:6789/mails`;\r\n\r\nconst Dashboard = () => {\r\n    const [emails, setEmails] = useState([])\r\n    const [text, setText] = useState('')\r\n    const [subject, setSubject] = useState('')\r\n    const [to, setTo]= useState('');\r\n    const [loggedIn, setLoggedIn] = useState(false);\r\n\r\n    const getEmails = async () => {\r\n        let response = await fetch(url, {credentials: \"include\"});\r\n        let data = await response.json();\r\n        setEmails(data);\r\n    }\r\n\r\n    const handleSendEmail = async () =>{\r\n        const response = await fetch(url, {\r\n            method: \"POST\",\r\n            credentials: \"include\",\r\n            headers: {\r\n                \"Content-type\" : \"application/json\"\r\n            },\r\n            body: JSON.stringify({subject: subject, to: to,  text: text})\r\n        })\r\n\r\n        if (response.status === 200) {\r\n            console.log('OK');\r\n            setSubject('')\r\n            setTo('')\r\n            setText('')\r\n        }\r\n    }\r\n    useEffect(()=> {\r\n        getEmails();\r\n    }, [])\r\n\r\n    useEffect(()=>{\r\n        if(!loggedIn){\r\n            getEmails()\r\n        }\r\n    }, [loggedIn])\r\n\r\n    return (\r\n        <>\r\n        <h2>Welcome !</h2>\r\n        <table className=\"table\">\r\n            <tbody>\r\n                {emails.map(item => {\r\n                    return(\r\n                        <tr>\r\n                            <td>{item.id}</td>\r\n                            <td>{item.subject}</td>\r\n                            <td>{item.to}</td>\r\n                            <td>{item.from}</td>\r\n                            <td>{item.text}</td>\r\n                        </tr>\r\n                    )\r\n                })}\r\n            </tbody>\r\n        </table>\r\n        <div className=\"form\">\r\n        <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">Subject</label>\r\n            <input  value={subject}\r\n                    type=\"text\" \r\n                    className=\"form-control\" \r\n                    id=\"exampleFormControlInput1\"\r\n                    onChange={(e) => {setSubject(e.target.value)}}/>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleFormControlInput1\" className=\"form-label\">To: </label>\r\n            <input  value={to}\r\n                    type=\"email\" \r\n                    className=\"form-control\" \r\n                    id=\"exampleFormControlInput1\" \r\n                    placeholder=\"name@example.com\"\r\n                    onChange={(e)=> setTo(e.target.value)}\r\n                    />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\" className=\"form-label\">Example textarea</label>\r\n            <textarea\r\n                    className=\"form-control\" \r\n                    id=\"exampleFormControlTextarea1\"\r\n                    rows=\"3\"\r\n                    value={text}\r\n                    onChange={(e)=> setText(e.target.value)}></textarea>\r\n        </div>\r\n        <button type=\"submit\" onClick={handleSendEmail} disabled={subject.length < 5 || text.length === 0 ? true : false}>Send Email</button>\r\n        </div>\r\n        </>\r\n\r\n        )\r\n    }\r\n\r\n\r\nexport default withRouter(Dashboard)","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst url = `http://localhost:6789/register`;\r\nconst Register = () => {\r\n\r\n    const router = useHistory();\r\n    const [mail, setMail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const register = async () => {\r\n        const response = await fetch(url, {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type' : 'application/json'\r\n            },\r\n            body: JSON.stringify({mail, password})\r\n        });\r\n\r\n        if(response.status !== 200) {\r\n            setError('User already registered');\r\n            setTimeout(()=> {\r\n                setError('');\r\n            }, 2000);\r\n            return\r\n        }\r\n\r\n        router.push('/login');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"container mt-5 w-25\">\r\n                <h1 className=\"h1\">Register</h1>\r\n                <div>\r\n                    <div className=\"form-group\">\r\n                        <label>Email address</label>\r\n                        <input \r\n                        value={mail}\r\n                        type=\"email\" \r\n                        className=\"form-control\"\r\n                        placeholder=\"Enter email\"\r\n                        onChange={(e) => {setMail(e.target.value)}}/>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password</label>\r\n                        <input  value={password}\r\n                                type=\"password\"\r\n                                className=\"form-control\"\r\n                                placeholder=\"Password\"\r\n                                onChange={(e) => {setPassword(e.target.value)}}/>\r\n                    </div>\r\n                    <button onClick={register} disabled={ password.length < 6 || mail === \"\" ? true : false} className=\"btn btn-primary\">Register</button>\r\n                    </div>\r\n                        {error && (\r\n                            <div className=\"alert alert-danger\" role=\"alert\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({isAuth, component: Component, ...rest}) => {\r\n    return (\r\n        <>\r\n            <Route {...rest} render={(props)=> {\r\n                if(isAuth){\r\n                    return <Component />\r\n                }else {\r\n                    return <Redirect to={{pathname: '/login', state: {from: props.location} }} />\r\n                }\r\n            }} />\r\n        </>\r\n    )\r\n}\r\n    export default ProtectedRoute;","import React, { useState } from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Nav from './components/Nav';\r\nimport Login from './components/Login';\r\nimport Logout from './components/Logout';\r\nimport Dashboard from './components/Dashboard';\r\nimport Register from './components/Register';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\n\r\n\r\nfunction App() {\r\n  const [isAuth, setIsAuth] = useState(false);\r\n\r\n  return (\r\n    <div>\r\n      <HashRouter>\r\n        <Nav />\r\n        <Switch>\r\n          <Route path=\"/Register\" component={Register} />\r\n          <Route path=\"/Login\">\r\n            <Login\r\n              setIsAuth={setIsAuth}\r\n            />\r\n          </Route>\r\n          <Route path=\"/Logout\">\r\n            <Logout\r\n              setIsAuth={setIsAuth}\r\n            />\r\n          </Route>\r\n          <ProtectedRoute path=\"/Dashboard\" component={Dashboard} isAuth={isAuth} />\r\n        </Switch>\r\n      </HashRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}